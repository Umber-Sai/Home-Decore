<section class="cart" *ngIf="cart">
    <div class="container">
        <div class="cart-title">Корзина</div>
        <div class="cart-empty" *ngIf="!cart || cart.items.length === 0">
            <div>В корзине нет товаров</div>
            <button class="btn" routerLink="/catalog">В каталог</button>
        </div>
        <div class="cart-info" *ngIf="cart && cart.items.length > 0">
            <div class="products">

                <div class="product" *ngFor="let product of cart.items">
                    <div class="product-img" style="background-image: url('{{serverStaticPath + product.product.image}}');"></div>
                    <div class="product-name">{{product.product.name}}</div>
                    <count-selector (onCountChange)="updateCount($event, product.product.id)" [count]="product.quantity"></count-selector>
                    <div class="product-cost">{{product.product.price * product.quantity}} BYN</div>
                    <div class="product-delete" (click)="updateCount(0, product.product.id)">
                        <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_1_1332)">
                            <line x1="1.93562" y1="3.50635" x2="13.9564" y2="15.5272" stroke="#A8ABA7" stroke-linecap="round"/>
                            <line x1="13.9238" y1="3.4864" x2="1.90301" y2="15.5072" stroke="#A8ABA7" stroke-linecap="round"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_1_1332">
                            <rect width="16" height="16" fill="white" transform="translate(0 0.856445)"/>
                            </clipPath>
                            </defs>
                        </svg>
                    </div>
                </div>

            </div>
            <div class="order-info">
                <div class="order-info-body">
                    <div class="info-title">Ваш заказ</div>
                    <div class="info-item info-products-count">Товаров: <span>{{totalAmount}}</span></div>
                    <div class="info-item info-total-cost">Общая стоимость: <span>{{totalCount}} BYN</span></div>
                    <div class="info-common">* без учета доставки</div>
                </div>
                <div class="order-info-actions">
                    <button class="btn transparent" routerLink="/catalog">Продолжить покупки</button>
                    <button class="btn" routerLink="/order">Оформить заказ</button>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="products-carousel">
    <product-carousel [title]="'С этими товарами также покупают'" [isLight]="true"></product-carousel>
</section>