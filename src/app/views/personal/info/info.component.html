<div class="info">
    <div class="container">
        <div class="personal-title">Личный кабинет</div>
        <div class="personal-pages-selector">
            <div class="personal-page active">Личные данные</div>
            <div class="personal-page" routerLink="/orders">Ваши заказы</div>
        </div>

        <div class="data-form" [formGroup]="userInfoForm">
            <div class="data-form-block">
                <div class="data-form-label">Личные данные</div>
                <div class="data-form-label-additional">
                    Введённые данные автоматически подставятся при оформлении заказа.
                </div>
                <div class="data-form-person">
                    <input type="text" class="order-input" placeholder="Фамилия" 
                        [ngStyle]="{'border-color': userInfoForm.get('lastName')?.invalid
                        && (userInfoForm.get('lastName')?.touched || userInfoForm.get('lastName')?.dirty) ? 'red' : ''}"  
                    formControlName="lastName">
                    <input type="text" class="order-input" placeholder="Имя" 
                     [ngStyle]="{'border-color': userInfoForm.get('firstName')?.invalid
                        && (userInfoForm.get('firstName')?.touched || userInfoForm.get('firstName')?.dirty) ? 'red' : ''}"  
                        formControlName="firstName">
                    <input type="text" class="order-input" placeholder="Отчество" 
                     [ngStyle]="{'border-color': userInfoForm.get('fatherName')?.invalid
                        && (userInfoForm.get('fatherName')?.touched || userInfoForm.get('fatherName')?.dirty) ? 'red' : ''}"  
                        formControlName="fatherName">
                    <input type="tel" class="order-input" placeholder="Телефон" 
                     [ngStyle]="{'border-color': userInfoForm.get('phone')?.invalid
                        && (userInfoForm.get('phone')?.touched || userInfoForm.get('phone')?.dirty) ? 'red' : ''}"  
                        formControlName="phone">
                    <input type="email" class="order-input" placeholder="E-mail" 
                     [ngStyle]="{'border-color': userInfoForm.get('email')?.invalid
                        && (userInfoForm.get('email')?.touched || userInfoForm.get('email')?.dirty) ? 'red' : ''}"  
                        formControlName="email">
                </div>
            </div>

            <div class="data-form-block">
                <div class="data-form-label">Адрес доставки</div>
                <div class="data-form-address">
                    <input type="text" class="order-input" placeholder="Улица"  [ngStyle]="{'border-color': userInfoForm.get('street')?.invalid
                        && (userInfoForm.get('street')?.touched || userInfoForm.get('street')?.dirty) ? 'red' : ''}"  
                         formControlName="street">
                    <input type="text" class="order-input" placeholder="№ дома"  [ngStyle]="{'border-color': userInfoForm.get('house')?.invalid
                        && (userInfoForm.get('house')?.touched || userInfoForm.get('house')?.dirty) ? 'red' : ''}"  
                         formControlName="house">
                    <input type="text" class="order-input" placeholder="Подъезд"  [ngStyle]="{'border-color': userInfoForm.get('entrance')?.invalid
                        && (userInfoForm.get('entrance')?.touched || userInfoForm.get('entrance')?.dirty) ? 'red' : ''}"  
                         formControlName="entrance">
                    <input type="tel" class="order-input" placeholder="№ квартиры"  [ngStyle]="{'border-color': userInfoForm.get('apartment')?.invalid
                        && (userInfoForm.get('apartment')?.touched || userInfoForm.get('apartment')?.dirty) ? 'red' : ''}"  
                         formControlName="apartment">
                </div>
            </div>

            <div class="data-form-block">
                <div class="data-form-label">Предпочитаемый способ доставки</div>
                <div class="data-form-types">
                    <div class="data-form-type-item " [class.active]="userInfoForm.get('deliveryType')?.value === deliveryTypes.delivery" (click)="changeDeliveryType(deliveryTypes.delivery)">Курьером</div>
                    <div class="data-form-type-item" [class.active]="userInfoForm.get('deliveryType')?.value === deliveryTypes.self" (click)="changeDeliveryType(deliveryTypes.self)">Самовывоз</div>
                </div>
            </div>


            <div class="data-form-block">
                <div class="data-form-label">Предпочитаемый способ оплаты</div>
                <div class="data-form-payment">
                    <input type="radio" id="cardOnline" value="{{paymentTypes.cardOnline}}" formControlName="paymentType">
                    <label for="cardOnline">
                        <div class="circle"><div class="dot"></div></div>
                        <span>Оплата банковской картой в интернет-магазине</span>
                    </label>
                    <input type="radio" id="cardToCourier" value="{{paymentTypes.cardToCourier}}" formControlName="paymentType">
                    <label for="cardToCourier">
                        <div class="circle"><div class="dot"></div></div>
                        <span>Безналичный расчет при получении</span></label>
                    <input type="radio"id="cashToCourier" checked value="{{paymentTypes.cashToCourier}}" formControlName="paymentType">
                    <label for="cashToCourier">
                        <div class="circle"><div class="dot"></div></div>
                        <span>Наличный расчет при получении</span>
                    </label>
                </div>
            </div>

            <button class="btn" [disabled]="!(userInfoForm.dirty && userInfoForm.valid)" (click)="updateUserInfo()">Сохранить</button>
        </div>
    </div>
    <div class="page-img">
        <img src="/assets/img/page/main.png" alt="flower">
    </div>
</div>